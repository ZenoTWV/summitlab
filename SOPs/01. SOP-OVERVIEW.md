# Summit Labs - Standard Operating Procedures

**AI-Assisted Workflow with Claude Code Slash Commands**

IMPORTANT: Old username: 'ZenoTWV', new username: 'SummitLabDev'

---

## Core Principle

**You focus on creative work. Claude Code handles the mechanical workflow.**

- **Claude Code (Sonnet)** - Building features, issue creation, commits, all development work
- **Claude Code (Opus)** - Planning mode for initial project setup and complex architecture
- **Web Claude (Sonnet)** - Discovery prompts for new projects only
- **Manual** - Final verification, client communication, design decisions

---

## Quick Command Reference

| Command | Purpose | When to Use |
|---------|---------|-------------|
| `/issue` | Create GitHub issue | Whenever you think of something to do |
| `/start <#>` | Start/resume work on issue | Begin or continue working on an issue |
| `/checkpoint` | Save WIP progress | Need to stop mid-work or switch issues |
| `/switch <#>` | Switch to different issue | Need to work on urgent issue #X |
| `/commit` | Final commit for completed work | Issue is fully fixed/complete |
| `/push` | Push branch and get PR link | Ready to deploy/review |

---

## Standard Issue Labels

Every issue gets ONE type label:
- **`bug`** - Something is broken
- **`enhancement`** - Improve existing feature
- **`feature`** - Add new functionality
- **`chore`** - Maintenance, cleanup, dependencies

Optional additional labels:
- **`documentation`** - Docs needed
- **`design`** - Design work involved
- **`urgent`** - High priority

---

## Complete Workflow (Bug/Enhancement/Feature)

### 1. Create Issue

**When:** Whenever you think of something, notice a bug, get client feedback, or have an idea.

**In Claude Code:**
```
/issue Remove Christmas toggle from website
```

**What happens:**
- Haiku scans codebase for relevant files
- Auto-generates proper title + description
- Creates GitHub issue with appropriate labels
- Assigns to you
- Shows issue number for next step

**Example output:**
```
Created issue #8: Remove Christmas toggle from website

Description:
Remove the Christmas theme toggle feature now that the holiday season is over.

Files to modify:
- src/components/ThemeToggle.jsx
- src/styles/christmas-theme.css
- public/images/christmas/

Labels: chore, enhancement
Assigned to: @SummitLabDev

Ready to start? Run: /start 8
```

---

### 2. Start Working

**In Claude Code:**
```
/start 8
```

**What happens:**
- Checks if you have uncommitted changes (refuses if you do)
- Fetches issue details from GitHub
- Determines branch type from issue labels (feat/fix/chore/etc.)
- Creates branch: `chore/8-remove-christmas-toggle`
- Shows 1-line summary of what you're doing
- You're ready to build

**If resuming work (branch already exists):**
```
/start 8
```
- Checks out existing branch
- Shows last checkpoint message if it exists
- Shows progress summary
- You continue building

---

### 3. Build the Feature/Fix

**Normal conversation with Claude Code:**
- "Remove all Christmas theme code"
- "Update the theme toggle to only have light/dark modes"
- Test in browser as you go
- Make changes iteratively

**No special commands needed** - just work with Sonnet naturally.

---

### 4. Save Progress (If Stopping Mid-Work)

**When:** You need to stop but issue isn't complete yet, or want to switch to another issue.

**In Claude Code:**
```
/checkpoint
```

**What happens:**
- Stages current changes
- Analyzes what you've done so far
- Creates WIP commit: `chore: WIP - removed Christmas toggle component (#8) üöß`
- Pushes to remote (optional - for safety)
- Shows concise progress summary

**Example:**
```
Checkpoint saved for issue #8.

Progress so far:
- Removed ChristmasToggle component
- Updated ThemeToggle to only show light/dark
- Still need to: clean up CSS files, remove Christmas assets

You can now:
- /switch <#> to work on another issue
- /start 8 later to resume this work
```

---

### 5. Switch to Another Issue (Optional)

**When:** You need to work on something urgent while another issue is in progress.

**In Claude Code:**
```
/switch 12
```

**What happens:**
- Auto-runs `/checkpoint` on current branch (saves WIP)
- Switches to main
- Runs `/start 12` automatically
- You're now working on issue #12

**To return:**
```
/start 8
```
Shows your checkpoint summary and you continue.

---

### 6. Final Commit (Issue Complete)

**When:** Issue is fully fixed/built and ready to deploy.

**In Claude Code:**
```
/commit
```

**What happens:**
- Runs `git status`, `git diff`, `git diff --staged`
- If nothing staged, proposes staging plan and stages files
- Optionally runs lint/build checks (if package.json exists)
- Analyzes all changes (including any checkpoint commits)
- Extracts issue number from branch name
- Generates conventional commit message with emoji
- Creates commit with NO Claude footer
- Shows commit message

**Example commit:**
```
chore: remove Christmas theme toggle (#8) üîß

- Removed ChristmasToggle component
- Updated ThemeToggle to light/dark only
- Deleted Christmas theme CSS and assets
- Cleaned up unused imports
```

**Commit format:**
```
type(scope): description (#issue) emoji

- Detail 1
- Detail 2
```

**Types & Emojis:**
- `feat` ‚ú® - New features
- `fix` üêõ - Bug fixes
- `docs` üìù - Documentation
- `style` üíÑ - UI/styling changes
- `refactor` ‚ôªÔ∏è - Code refactoring
- `perf` ‚ö°Ô∏è - Performance improvements
- `test` ‚úÖ - Tests
- `chore` üîß - Maintenance
- `ci` üöÄ - CI/CD changes

---

### 7. Push & Create PR

**In Claude Code:**
```
/push
```

**What happens:**
- Checks you're not on main (refuses if you are)
- Warns if uncommitted changes exist
- Pushes branch to origin
- Shows GitHub PR creation URL
- You click the link to create PR

**Example output:**
```
Pushed chore/8-remove-christmas-toggle to origin.

Create PR: https://github.com/SummitLabDev/summitlab-dev/pull/new/chore/8-remove-christmas-toggle
```

---

### 8. Merge PR ‚Üí Automatic Release

**On GitHub:**
1. Review the PR (optional - it's your code)
2. Merge to main
3. **Release Please automatically:**
   - Analyzes the conventional commit
   - Opens/updates a "Release PR" with version bump + changelog
   - When you merge the Release PR ‚Üí creates GitHub Release + tag

**Version bumps (automatic based on commits):**
- `fix:` commits ‚Üí PATCH (1.0.0 ‚Üí 1.0.1)
- `feat:` commits ‚Üí MINOR (1.0.0 ‚Üí 1.1.0)
- `BREAKING CHANGE:` ‚Üí MAJOR (1.0.0 ‚Üí 2.0.0)

**Issue auto-closes** when PR merges (because commit has `#8`).

---

## Command Details

### `/issue <description>`

**Purpose:** Create a GitHub issue with auto-generated details.

**Examples:**
```
/issue Fix mobile menu overflow on iPhone
/issue Add contact form validation
/issue Update footer with new social links
```

**Process:**
1. Haiku scans codebase for relevant files
2. Auto-generates title (cleaned up phrasing)
3. Creates description with:
   - What needs to be done
   - Relevant file locations
   - Tasks/checklist if applicable
4. Adds appropriate labels (bug/feature/enhancement/chore)
5. Assigns to you
6. Shows issue number

**Tips:**
- Be descriptive but natural - AI will clean it up
- Don't worry about perfect phrasing
- Can be a sentence or just a few words

---

### `/start <issue-number> [optional description]`

**Purpose:** Start or resume work on an issue.

**Examples:**
```
/start 8
/start 23 add contact form validation
```

**First time (new branch):**
1. Checks for uncommitted changes (refuses if found)
2. Fetches issue from GitHub
3. Determines branch type (feat/fix/chore based on labels)
4. Creates branch: `<type>/<issue>-<slug>`
5. Shows what you're doing

**Resuming (branch exists):**
1. Checks out existing branch
2. Shows last checkpoint message (if any)
3. Summarizes progress
4. You continue building

**Branch naming:**
- With issue: `feat/23-add-contact-form`
- Without: `feat/add-contact-form`

---

### `/checkpoint`

**Purpose:** Save work-in-progress when you need to stop.

**When to use:**
- Need to stop working but issue not complete
- Want to switch to another issue
- End of day, work not done
- Want a safe backup point

**Process:**
1. Stages all current changes
2. Analyzes what's been done
3. Creates WIP commit: `chore: WIP - <summary> (#issue) üöß`
4. Optionally pushes to remote
5. Shows concise progress summary

**Example commit:**
```
chore: WIP - removed toggle component, need CSS cleanup (#8) üöß
```

**Notes:**
- WIP commits stay in history as breadcrumbs
- Final `/commit` ignores them and creates clean commit
- Can have multiple checkpoints per issue

---

### `/switch <issue-number>`

**Purpose:** Save current work and switch to different issue.

**Example:**
```
/switch 12
```

**Process:**
1. Auto-runs `/checkpoint` on current issue
2. Switches to main branch
3. Auto-runs `/start 12`
4. You're now working on issue #12

**To return:**
```
/start 8
```

**Use when:**
- Urgent bug needs immediate attention
- Client requests quick change
- Blocked on current issue, want to work on something else

---

### `/commit [--no-verify]`

**Purpose:** Create final conventional commit when issue is complete.

**Examples:**
```
/commit
/commit --no-verify
```

**Process:**
1. Checks current changes (git status/diff)
2. If nothing staged, proposes staging plan
3. Runs lint/build checks (unless --no-verify)
4. Analyzes changes (intelligently ignores checkpoint commits)
5. Generates conventional commit message
6. Extracts issue number from branch name
7. Creates commit with proper format + emoji

**Commit message format:**
```
type(scope): imperative description (#issue) emoji

- Detailed change 1
- Detailed change 2
```

**Notes:**
- ONE commit per issue (even if multiple checkpoints exist)
- Never includes "Generated with Claude Code" footer
- Clean, portfolio-quality commits

---

### `/push`

**Purpose:** Push branch to GitHub and get PR link.

**Example:**
```
/push
```

**Process:**
1. Checks current branch (refuses if on main)
2. Warns if uncommitted changes
3. Pushes to origin (creates remote branch if needed)
4. Generates PR creation URL
5. Shows link

**Safety:**
- Cannot push directly to main
- Will tell you to use `/start` if on main

---

## Daily Workflow Examples

### Simple Bug Fix (Single Session)

```
# See a bug
/issue Mobile menu doesn't close on iPhone

# Claude creates issue #45

# Start working
/start 45

# Build the fix (normal conversation)
"Fix the mobile menu close button..."

# Test in browser - works!

# Commit and push
/commit
/push

# Create PR on GitHub, merge to main
# Release Please handles versioning automatically
```

---

### Feature Development (Multiple Sessions)

```
DAY 1:
/issue Add newsletter signup form
# Claude creates issue #52

/start 52
"Create the newsletter form component..."
# Work for 2 hours, form is built but needs validation

/checkpoint
# End of day

DAY 2:
/start 52
# Claude shows: "Last checkpoint: created form component, need validation"

"Add email validation and Mailchimp integration..."
# Build validation

/checkpoint
# Lunch break

/start 52
"Connect to Mailchimp API..."
# Finish feature

/commit
/push
# Merge PR
```

---

### Urgent Issue While Working

```
# Working on issue #23 (contact form)
/start 23
"Build contact form..."

# Client calls: "Site is down!"
/switch 67
# Auto-checkpoints #23, starts #67

"Fix the deployment issue..."
/commit
/push
# Emergency fix deployed

# Back to original work
/start 23
# Resume where you left off
```

---

## Starting a New Project

### Step 1: Discovery (Web Claude Sonnet)

Use your Discovery Prompt template to answer questions about:
- Client needs
- Design requirements
- Features
- Technical constraints

### Step 2: Planning (Claude Code Opus in Plan Mode)

Paste the discovery output into Opus Plan Mode:
- Opus creates comprehensive project plan
- Saves to `opusplan_project_brief.md`
- Creates initial GitHub issues
- Defines tech stack

### Step 3: Initial Build (Claude Code Sonnet)

Sonnet builds initial project state:
- Sets up project structure
- Creates base components
- Configures tooling
- Tags initial version

### Step 4: Feature Development (Regular Workflow)

Use normal workflow for each feature:
- Issues already created from plan
- Work through them one by one
- `/start` ‚Üí build ‚Üí `/commit` ‚Üí `/push` ‚Üí merge

---

## Cleanup Guidelines

### When to Clean Up
- Before client review
- When things feel messy
- Before major milestones
- Weekly maintenance

### What to Look For
- Unused files
- Commented-out code (>5 lines)
- Leftover media/images not referenced
- Duplicate files
- Old backup files (.bak, .old)
- Empty directories
- Test files in wrong locations
- Console.log/debugger statements
- Unused imports

### How to Clean
**In Claude Code:**
```
Scan codebase for cleanup opportunities.
Report what can be safely deleted.
```

Review the list, approve deletions, then:
```
/commit
# "chore: cleanup unused files and code üîß"
```

---

## GitHub Actions Setup

Every repo needs Release Please for automatic versioning.

### Required Files

**`.github/workflows/release.yml`:**
```yaml
name: release

on:
  push:
    branches: [ "main" ]

permissions:
  contents: write
  pull-requests: write

jobs:
  release-please:
    runs-on: ubuntu-latest
    steps:
      - uses: googleapis/release-please-action@v4
        with:
          release-type: simple
```

**`release-please-config.json`:**
```json
{
  "release-type": "simple",
  "packages": {
    ".": {}
  }
}
```

### How It Works

1. You merge PR with conventional commits to main
2. Release Please analyzes commits
3. Opens/updates "Release PR" with:
   - Automatic version bump (semver)
   - Auto-generated changelog
4. You merge Release PR
5. GitHub Release + tag created automatically

**No manual versioning needed!**

---

## Testing Checklist (Manual)

Before you `/commit`, test manually:

### Mobile (375px)
- [ ] Layout looks good
- [ ] Touch targets >44px
- [ ] No horizontal scroll
- [ ] Forms work

### Tablet (768px)
- [ ] Layout adapts properly
- [ ] Navigation works

### Desktop (1024px+)
- [ ] Full layout renders
- [ ] Hover states work
- [ ] All interactions functional

### Functionality
- [ ] Click all buttons
- [ ] Submit all forms
- [ ] No console errors
- [ ] Images load
- [ ] Links work

---

## Quick Tips

**Always use commands in order:**
1. `/issue` - Create
2. `/start` - Begin
3. `/checkpoint` - Save (if needed)
4. `/commit` - Complete
5. `/push` - Deploy

**Never:**
- Push directly to main (use branches)
- Commit without issue number
- Skip testing before commit
- Leave console.log in production code

**Remember:**
- One issue = one branch = one final commit
- Checkpoint commits are OK (WIP breadcrumbs)
- Release Please handles all versioning
- Test before you commit
- Keep commits clean and professional

---

## Command Summary

```
/issue <description>       ‚Üí Create GitHub issue
/start <#>                 ‚Üí Start/resume issue work
/checkpoint                ‚Üí Save WIP progress
/switch <#>                ‚Üí Switch to different issue
/commit                    ‚Üí Final commit (issue complete)
/push                      ‚Üí Push branch + get PR link
```

**Workflow:** issue ‚Üí start ‚Üí build ‚Üí checkpoint (optional) ‚Üí commit ‚Üí push ‚Üí merge

**Result:** Clean git history + automatic releases + closed issues